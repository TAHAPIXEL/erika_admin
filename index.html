<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø²Ù…ÙˆÙ† - Erika Khosravi</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Vazirmatn Font from Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap">
    
    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        .bg-app { background-color: #ffffff; }
        .text-app { color: #000000; }
        .border-app { border-color: #000000; }
        .bg-input { background-color: #fafafa; }
        .btn-primary { 
            background-color: #000000; 
            color: #ffffff; 
        }
        .btn-primary:hover { background-color: #333333; }
        .en-text { 
            font-family: "Times New Roman", serif; 
            font-weight: bold; 
        }
        body { font-family: 'Vazirmatn', sans-serif; }
        
        .user-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .user-card:hover {
            border-color: #000000;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .user-card.selected {
            border-color: #000000;
            background-color: #f9fafb;
        }
        
        .correct-btn {
            background-color: #10b981;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            margin: 4px;
            cursor: pointer;
        }
        
        .incorrect-btn {
            background-color: #ef4444;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            margin: 4px;
            cursor: pointer;
        }
        
        .question-item {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .correct-answer {
            background-color: #d1fae5;
            border-color: #10b981;
        }
        
        .incorrect-answer {
            background-color: #fee2e2;
            border-color: #ef4444;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #000000;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 8px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .hidden {
            display: none;
        }

        .time-badge {
            background-color: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 12px;
            font-family: monospace;
        }
    </style>
</head>
<body class="bg-app text-app min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold mb-2">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø²Ù…ÙˆÙ†</h1>
            <p class="en-text text-xl mb-4">Erika Khosravi - Admin Panel</p>
            <div class="flex justify-center mb-6">
                <div class="w-6 h-1 bg-black rounded-full"></div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Users List -->
            <div class="bg-white border-app border rounded-2xl shadow-md p-6">
                <h2 class="text-2xl font-bold mb-6 text-center">Ù„ÛŒØ³Øª Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†</h2>
                
                <!-- Search and Filters -->
                <div class="mb-6 space-y-4">
                    <input 
                        type="text" 
                        id="search-input"
                        placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ø§Ù…ØŒ ØªÙ„ÙÙ† ÛŒØ§ Ø¢ÛŒØ¯ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…..."
                        class="w-full p-3 border-app border rounded-lg bg-input focus:ring-2 focus:ring-black focus:border-black"
                    >
                    
                    <div class="flex gap-4">
                        <button id="filter-all" class="btn-primary px-4 py-2 rounded-lg text-sm flex-1">
                            Ù‡Ù…Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                        </button>
                        <button id="filter-not-graded" class="bg-gray-500 text-white px-4 py-2 rounded-lg text-sm flex-1">
                            ØªØµØ­ÛŒØ­ Ù†Ø´Ø¯Ù‡
                        </button>
                        <button id="filter-graded" class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm flex-1">
                            ØªØµØ­ÛŒØ­ Ø´Ø¯Ù‡
                        </button>
                    </div>
                </div>

                <!-- Users Container -->
                <div id="users-container" class="space-y-4 max-h-[600px] overflow-y-auto">
                    <!-- Users will be loaded here -->
                </div>

                <!-- Loading State -->
                <div id="loading-users" class="text-center py-8">
                    <div class="spinner mx-auto"></div>
                    <p class="text-gray-600 mt-2">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†...</p>
                </div>
            </div>

            <!-- User Details and Grading -->
            <div class="bg-white border-app border rounded-2xl shadow-md p-6">
                <div id="no-user-selected" class="text-center py-12">
                    <div class="text-6xl mb-4">ğŸ‘¤</div>
                    <h3 class="text-xl font-bold mb-2">Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</h3>
                    <p class="text-gray-600">Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ù„ÛŒØ³Øª Ø³Ù…Øª Ø±Ø§Ø³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p>
                </div>

                <!-- User Exam Details -->
                <div id="user-exam-details" class="hidden">
                    <!-- User Info -->
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h3 class="text-lg font-bold mb-3">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <span class="font-medium">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</span>
                                <span id="user-fullname">-</span>
                            </div>
                            <div>
                                <span class="font-medium">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†:</span>
                                <span id="user-phone">-</span>
                            </div>
                            <div>
                                <span class="font-medium">Ø¢ÛŒØ¯ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…:</span>
                                <span id="user-telegram">-</span>
                            </div>
                            <div>
                                <span class="font-medium">ØªØ§Ø±ÛŒØ® Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…:</span>
                                <span id="user-registered">-</span>
                            </div>
                            <div>
                                <span class="font-medium">Ø²Ù…Ø§Ù† Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†:</span>
                                <span id="exam-started">-</span>
                            </div>
                            <div>
                                <span class="font-medium">Ø²Ù…Ø§Ù† Ù¾Ø§ÛŒØ§Ù† Ø¢Ø²Ù…ÙˆÙ†:</span>
                                <span id="exam-completed">-</span>
                            </div>
                            <div>
                                <span class="font-medium">Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø¢Ø²Ù…ÙˆÙ†:</span>
                                <span id="exam-duration">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Exam Status -->
                    <div class="bg-blue-50 rounded-lg p-4 mb-6">
                        <h3 class="text-lg font-bold mb-3">ÙˆØ¶Ø¹ÛŒØª Ø¢Ø²Ù…ÙˆÙ†</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                            <div>
                                <span class="font-medium">Ø³ÙˆØ§Ù„Ø§Øª Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡:</span>
                                <span id="answered-count">0</span>
                            </div>
                            <div>
                                <span class="font-medium">Ø³ÙˆØ§Ù„Ø§Øª Ø¨ÛŒâ€ŒÙ¾Ø§Ø³Ø®:</span>
                                <span id="unanswered-count">54</span>
                            </div>
                            <div>
                                <span class="font-medium">Ù†Ù…Ø±Ù‡ ÙØ¹Ù„ÛŒ:</span>
                                <span id="current-score">0</span>
                            </div>
                            <div>
                                <span class="font-medium">ÙˆØ¶Ø¹ÛŒØª ØªØµØ­ÛŒØ­:</span>
                                <span id="grading-status" class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">ØªØµØ­ÛŒØ­ Ù†Ø´Ø¯Ù‡</span>
                            </div>
                        </div>
                    </div>

                    <!-- Questions and Grading -->
                    <div>
                        <h3 class="text-lg font-bold mb-4">ØªØµØ­ÛŒØ­ Ø³ÙˆØ§Ù„Ø§Øª</h3>
                        <div class="mb-4 flex justify-between items-center">
                            <span class="text-sm text-gray-600">Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø³ÙˆØ§Ù„ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­ ÛŒØ§ ØºÙ„Ø· Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯</span>
                            <button id="save-grades" class="btn-primary px-6 py-2 rounded-lg text-sm">
                                Ø°Ø®ÛŒØ±Ù‡ Ù†Ù…Ø±Ø§Øª
                            </button>
                        </div>

                        <div id="questions-container" class="space-y-4 max-h-[500px] overflow-y-auto">
                            <!-- Questions will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Supabase configuration
        const supabaseUrl = 'https://zuxnwivvhdknrsnelcio.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp1eG53aXZ2aGRrbnJzbmVsY2lvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwOTk4MjUsImV4cCI6MjA3ODY3NTgyNX0.WxyqhPYudUH_yP_5RyiYhcVeF2_dp30SDg96Ost4Xp4';
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        // Questions data - ØªÙ…Ø§Ù… 54 Ø³ÙˆØ§Ù„
        const questions = [
            {
                id: 1,
                text: "Ø§Ú¯Ø± Ú©Ø§Ø±ÙØ±Ù…Ø§ Ù…Ø´Ú©Ù„ Ø§ØµÙ„ÛŒâ€ŒØ§Ø´ Ø±Ø´Ø¯ Ù¾ÛŒØ¬Ø´ Ø¨Ø§Ø´Ø¯ Ú†Ù‡ Ø¬ÙˆØ§Ù†Ø¨ÛŒ Ø±Ø§ Ø¯Ø± Ù†Ø¸Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒØ¯ØŸ",
                type: "text"
            },
            {
                id: 2,
                text: "Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ø¬Ù„ÙˆÛŒ Ø±Ø´Ø¯ Ù¾ÛŒØ¬ Ú¯Ø±ÙØªÙ‡ Ø´ÙˆØ¯ØŸ",
                type: "text"
            },
            {
                id: 3,
                text: "Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ù¾Ø³Øª Ú¯Ø°Ø§Ø±ÛŒØŸ",
                type: "multiple",
                options: [
                    "ØªØ§ÛŒÙ…ÛŒ Ú©Ù‡ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ‡.",
                    "ØªØ§ÛŒÙ…ÛŒ Ú©Ù‡ Ú©Ø§Ø±ÙØ±Ù…Ø§ ØªØ¹ÛŒÛŒÙ† Ú©Ù†Ø¯.",
                    "ØªØ§ÛŒÙ…ÛŒ Ú©Ù‡ Ø§Ø¯Ù…ÛŒÙ† Ø¯Ø± Ù†Ø¸Ø± Ø¯Ø§Ø±Ø¯.",
                    "ØªØ§ÛŒÙ… Ùˆ Ø³Ø§Ø¹Øª Ø¢Ù¾Ù„ÙˆØ¯ Ù…Ù‡Ù… Ù†ÛŒØ³Øª."
                ]
            },
            {
                id: 4,
                text: "Ù…Ù‡Ù… ØªØ±ÛŒÙ† Ø¹Ø§Ù…Ù„ Ø³Ù†Ø§Ø±ÛŒÙˆÙ†ÙˆÛŒØ³ÛŒ Ú†ÛŒØ³ØªØŸ",
                type: "text"
            },
            {
                id: 5,
                text: "Ú©Ø¯Ø§Ù… Ú¯Ø²ÛŒÙ†Ù‡ Ø¯Ø± Ø±Ø§Ø¨Ø·Ù‡ Ø¨Ø§ ÙˆØ¸Ø§ÛŒÙ Ø§Ø¯Ù…ÛŒÙ† Ø³Ù†Ø§Ø±ÛŒÙˆÙ†ÙˆÛŒØ³ ØºÙ„Ø· Ø§Ø³ØªØŸ",
                type: "multiple",
                options: [
                    "Ù†ÙˆØ´ØªÙ† Ø³Ù†Ø§Ø±ÛŒÙˆ Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ù…Ù„.",
                    "Ù†ÙˆØ´ØªÙ† Ø¬Ø²Ø¦ÛŒØ§Øª Ø³Ù†Ø§Ø±ÛŒÙˆ.",
                    "Ú†ÛŒØ¯Ù…Ø§Ù† Ø³Ø§Ø®ØªØ§Ø± Ø³Ù†Ø§Ø±ÛŒÙˆ.",
                    "ÙÛŒÙ„Ù…Ø¨Ø±Ø¯Ø§Ø±ÛŒ Ø§Ø² Ù…Ø­ØªÙˆØ§ÛŒ Ø³Ù†Ø§Ø±ÛŒÙˆ."
                ]
            },
            {
                id: 6,
                text: "Ø§Ú¯Ø± ÛŒÚ© Ù¾Ø³Øª Ø¯Ø± Ø²Ù…Ø§Ù† Ù‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ (Û²Û´ Ø³Ø§Ø¹Øª Ø§ÙˆÙ„) Ø¢Ù¾Ù„ÙˆØ¯ØŒ ÙˆÛŒÙˆ Ù…Ø¯Ù†Ø¸Ø± Ø±Ø§ Ù†Ú¯ÛŒØ±Ø¯ Ø¨Ù‡ØªØ±ÛŒÙ† Ú©Ø§Ø± Ú†ÛŒØ³ØªØŸ",
                type: "multiple",
                options: [
                    "Ø­Ø°Ù Ù¾Ø³Øª.",
                    "Ø¢Ø±Ø´ÛŒÙˆ Ù¾Ø³Øª.",
                    "ØªØ¨Ù„ÛŒØº ÙÙˆØ±ÛŒ.",
                    "ØªØ­Ù„ÛŒÙ„ Ù¾Ø³Øª."
                ]
            },
            {
                id: 7,
                text: "Û´ Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ Ø§Ø³ØªÙˆØ±ÛŒ Ú¯Ø°Ø§Ø´ØªÙ† Ø±Ø§ Ø¨Ú¯ÙˆÛŒÛŒØ¯ (Ø¨Ø¯ÙˆÙ† ØªÙˆØ¶ÛŒØ­ ÙÙ‚Ø· Ú¯ÙØªÙ† Ù‡Ø¯Ù)ØŸ",
                type: "text"
            },
            {
                id: 8,
                text: "Ø¨Ù‡ØªØ±ÛŒÙ† ØªØ¹Ø¯Ø§Ø¯ Ø§Ø³ØªÙˆØ±ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ¬ Ù‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒØŸ",
                type: "multiple",
                options: [
                    "Û³ ØªØ§ Û¶ Ø§Ø³ØªÙˆØ±ÛŒ.",
                    "Û¶ ØªØ§ Û¸ Ø§Ø³ØªÙˆØ±ÛŒ.",
                    "Û±Û° Ø§Ù„ÛŒ Û²Û° Ùˆ Ø­ØªÛŒ Ø¨ÛŒØ´ØªØ±."
                ]
            },
            {
                id: 9,
                text: "Ú†Ù‡ Ù†ÙˆØ¹ Ù…Ø­ØªÙˆØ§ÛŒÛŒ Ø¨Ø§Ø¹Ø« ÙˆØ±ÙˆØ¯ÛŒ Ú¯Ø±ÙØªÙ† Ø§Ø² Ø§Ú©Ø³Ù¾Ù„ÙˆØ± Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ (Ø¨Ù‡ ØµÙˆØ±Øª Ú©ÙˆØªØ§Ù‡ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯)",
                type: "text"
            },
            {
                id: 10,
                text: "Ú†Ø±Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ Ø¯Ø± Ø§Ø³ØªÙˆØ±ÛŒ Ø§Ù‡Ù…ÛŒØª Ø¯Ø§Ø±Ø¯ØŸ",
                type: "text"
            },
            {
                id: 11,
                text: "ØªÙØ§ÙˆØª Ù…Ø­ØªÙˆØ§ÛŒ Ù¾Ø³Øª Ùˆ Ø§Ø³ØªÙˆØ±ÛŒ Ø§Ø² Ù†Ø¸Ø± Ù‡Ø¯Ù ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯.",
                type: "text"
            },
            {
                id: 12,
                text: "Ø¨Ø¹Ø¯ Ø§Ø² Ø¢Ù†Ø§Ù„ÛŒØ² ÙˆÛŒØªØ±ÛŒÙ† Ù¾ÛŒØ¬ Ø¨Ø§ÛŒØ¯ Ú©Ø¯Ø§Ù… ÛŒÚ© Ø§Ø² Ù…ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø¨Ø±Ø±Ø³ÛŒ Ø´ÙˆØ¯ØŸ",
                type: "multiple",
                options: [
                    "Ø±Ø´Ø¯ Ù¾ÛŒØ¬.",
                    "ØªØ¨Ù„ÛŒØºØ§Øª Ù¾ÛŒØ¬.",
                    "Ø§Ø³ØªÙˆØ±ÛŒ.",
                    "Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù…."
                ]
            },
            {
                id: 13,
                text: "Ú©Ø¯Ø§Ù… Ø¹Ø§Ù…Ù„ Ø¨ÛŒØ´ØªØ±ÛŒÙ† ØªØ§Ø«ÛŒØ± Ø±Ø§ Ø¯Ø± ÙˆØ§ÛŒØ±Ø§Ù„ Ø´Ø¯Ù† Ø±ÛŒÙ„Ø² Ø¯Ø§Ø±Ø¯ØŸ",
                type: "multiple",
                options: [
                    "Ú©ÛŒÙÛŒØª ÙÛŒÙ„Ù…Ø¨Ø±Ø¯Ø§Ø±ÛŒ - ØªØ§ÛŒÙ… Ø±ÛŒÙ„Ø².",
                    "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ù‡Ù†Ú¯ ØªØ±Ù†Ø¯.",
                    "Ù†ÛŒØ§Ø²Ø³Ø§Ø²ÛŒ Ù…ÙˆØ«Ø±.",
                    "Ø³Ù†Ø§Ø±ÛŒÙˆ."
                ]
            },
            {
                id: 14,
                text: "Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ù¾Ø³Øª Ú©Ø¯Ø§Ù… ØªØ§ÛŒÙ… Ø§Ø³ØªØŸ",
                type: "multiple",
                options: [
                    "Ø±ÙˆØ².",
                    "Ø´Ø¨.",
                    "Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù…."
                ]
            },
            {
                id: 15,
                text: "Ø¯Ø± Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ø±ÛŒÙ„Ø²ØŒ Ø«Ø§Ù†ÛŒÙ‡ Ø§ÙˆÙ„ Ú†Ù‡ Ø§Ø³Ù…ÛŒ Ø¯Ø§Ø±Ø¯ØŸ Ù…Ù‡Ù… Ø§Ø³ØªØŸ",
                type: "multiple",
                options: [
                    "Ú©Ø§Ù„ ØªÙˆ Ø§Ú©Ø´Ù† - Ø®ÛŒØ±.",
                    "Ú©Ø§Ù„ ØªÙˆ Ø§Ú©Ø´Ù† - Ø¨Ù„Ù‡.",
                    "Ù‚Ù„Ø§Ø¨ - Ø¨Ù„Ù‡.",
                    "Ù‚Ù„Ø§Ø¨ - Ø®ÛŒØ±."
                ]
            },
            {
                id: 16,
                text: "Ø§Ú¯Ø± Ø±ÛŒÙ„Ø² Ù¾ÛŒØ¬ Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ú©Ù…ÛŒ Ø¨Ú¯ÛŒØ±Ø¯ØŒ Ø´Ù…Ø§ Ø¯Ø± Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø§Ø¯Ù…ÛŒÙ† Ú†Ù‡ Ø§Ù‚Ø¯Ø§Ù…ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ØŸ",
                type: "text"
            },
            {
                id: 17,
                text: "ØªÙØ§ÙˆØª Ø±ÛŒÙ„Ø² Ø¢Ù…ÙˆØ²Ø´ÛŒ Ùˆ ØªØ¨Ù„ÛŒØºØ§ØªÛŒ Ø§Ø² Ù†Ø¸Ø± Ù‡Ø¯Ù Ùˆ Ø³Ø§Ø®ØªØ§Ø± ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯.",
                type: "text"
            },
            {
                id: 18,
                text: "Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ Ø§Ø² Ù¾Ø§Ø³Ø®â€ŒØ¯Ù‡ÛŒ Ø¨Ù‡ Ø¯Ø§ÛŒØ±Ú©Øª Ù‡Ø§ Ú†ÛŒØ³ØªØŸ",
                type: "text"
            },
            {
                id: 19,
                text: "Ø§Ú¯Ø± Ø¯Ø± ÛŒÚ© Ù…ÙˆÙ‚Ø¹ÛŒØªØŒ Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯ Ùˆ Ù¾ÛŒØ§Ù… Ù…Ù†ÙÛŒ Ø§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù¾ÛŒØ¬ ÛŒØ§ Ù¾Ù„ØªÙØ±Ù… ØªÙ„Ú¯Ø±Ø§Ù… Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯ØŒ Ø§ÙˆÙ„ÛŒÙ† Ø§Ù‚Ø¯Ø§Ù… Ú†ÛŒØ³ØªØŸ (Ù¾Ø§Ø³Ø® Ú©ÙˆØªØ§Ù‡)",
                type: "text"
            },
            {
                id: 20,
                text: "Ù‡Ù†Ú¯Ø§Ù… Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø¨Ø§ÛŒØ¯ Ú†Ø·ÙˆØ± Ø¨Ø±Ø®ÙˆØ±Ø¯ Ú©Ø±Ø¯ØŸ",
                type: "text"
            },
            {
                id: 21,
                text: "Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØ´ Ø¨Ø±Ø§ÛŒ Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ Ú©Ù‡ Ø¯Ùˆ Ø¯Ù„ Ù‡Ø³Øª Ù…ÙˆÙ‚Ø¹ Ø®Ø±ÛŒØ¯ Ú†ÛŒØ³ØªØŸ",
                type: "text"
            },
            {
                id: 22,
                text: "Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØ´ Ù…ØªÙ‚Ø§Ø¹Ø¯ Ú©Ø±Ø¯Ù† Ù…Ø´ØªØ±ÛŒ Ú†Ù‡ Ø±ÙˆØ´ÛŒ Ù‡Ø³ØªØŸ (Ù¾Ø§Ø³Ø® Ú©ÙˆØªØ§Ù‡)",
                type: "text"
            },
            {
                id: 23,
                text: "Ø¢ÛŒØ§ Ø¨ÛŒÙ† Ø§Ø¯Ù…ÛŒÙ† Ø¯Ø§ÛŒØ±Ú©Øª ÙØ±ÙˆØ´ Ùˆ Ø§Ø¯Ù…ÛŒÙ† Ø¯Ø§ÛŒØ±Ú©ØªÛŒ Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡â€ŒØ§Ø´ ØªØ¹Ø§Ù…Ù„ Ø§Ø³Øª ÙØ±Ù‚ Ù‡Ø³ØªØŸ",
                type: "multiple",
                options: [
                    "Ø¨Ù„Ù‡.",
                    "Ø®ÛŒØ±."
                ]
            },
            {
                id: 24,
                text: "Ø§Ú¯Ø± Ù¾ÛŒØ¬ Ú©Ø§Ø±ÙØ±Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ø² Ø¢Ù†Ø§Ù„ÛŒØ² Ú©Ù„ÛŒ Ù†ÛŒØ§Ø² Ø¯Ø§Ø´Øª Ú©Ù‡ ÙØ±ÙˆØ´ ÛŒØ§ Ø±Ø´Ø¯ Ù¾ÛŒØ¬ Ø±Ø§ ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±Ø¯ØŒ Ø¢ÛŒØ§ Ø§Ø¯Ù…ÛŒÙ† Ø¢Ù†Ø§Ù„ÛŒØ² Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ø±Ø§Ø¨Ø·Ù‡ Ø¨Ø§ Ø¢Ù† Ù…Ø´Ú©Ù„ Ø¨Ù‡ Ø¢Ù†â€ŒÙ‡Ø§ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¨Ø¯Ù‡Ø¯ØŸ (Ù¾Ø§Ø³Ø® Ú©ÙˆØªØ§Ù‡)",
                type: "text"
            },
            {
                id: 25,
                text: "Ø³Ø§Ø®ØªØ§Ø± Ø§ØµÙˆÙ„ÛŒ Ø³Ù†Ø§Ø±ÛŒÙˆ Ø±Ø§ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯.",
                type: "text"
            },
            {
                id: 26,
                text: "Ø³Ø§Ø®ØªØ§Ø± Ø§ØµÙˆÙ„ÛŒ Ø³Ù†Ø§Ø±ÛŒÙˆÛŒ Ø§Ø³ØªÙˆØ±ÛŒ Ø±Ø§ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯.",
                type: "text"
            },
            {
                id: 27,
                text: "Ú†Ù‡ Ú©Ø§Ø±Ù‡Ø§ Ùˆ Ø§Ù‚Ø¯Ø§Ù…Ø§ØªÛŒ Ø¨Ø§Ø¹Ø« Ø±Ø´Ø¯ ÙØ±ÙˆØ´ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",
                type: "text"
            },
            {
                id: 28,
                text: "Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ø³Ø±ÛŒØ¹ ØªØ± Ø±Ø´Ø¯ Ú©Ù†ÛŒÙ… Ú©Ø¯Ø§Ù… Ù…ÙˆØ±Ø¯ ØªØµÙ…ÛŒÙ… Ø¹Ø§Ù‚Ù„Ø§Ù†Ù‡ ØªØ±ÛŒ Ø§Ø³ØªØŸ",
                type: "multiple",
                options: [
                    "ØªØ¨Ù„ÛŒØºØ§Øª.",
                    "Ù…Ø­ØªÙˆØ§.",
                    "Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù…."
                ]
            },
            {
                id: 29,
                text: "Ø¨Ø±Ø§ÛŒ Ø±ÛŒÙ„Ø²ÛŒ Ú©Ù‡ Ø¢Ù¾Ù„ÙˆØ¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ù†ÛŒØ§Ø² Ø§Ø³Øª Ù‚Ø¨Ù„Ø´ Ø¯Ø± Ø§Ø³ØªÙˆØ±ÛŒ Ø§Ù‚Ø¯Ø§Ù…Ø§ØªÛŒ ØµÙˆØ±Øª Ø¨Ú¯ÛŒØ±Ø¯ØŸ (Ø¨Ø±Ø§ÛŒ Ø¨Ù„Ù‡ ÛŒØ§ Ø®ÛŒØ± ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯)",
                type: "text"
            },
            {
                id: 30,
                text: "Ú©Ø¯Ø§Ù… Ø¨Ø§Ø¹Ø« Ø±Ø´Ø¯ Ù¾ÛŒØ¬ Ù…ÛŒâ€ŒØ´ÙˆØ¯:",
                type: "multiple",
                options: [
                    "Ù…Ø¯Ø§Ù… Ø§Ø³ØªÙˆØ±ÛŒ Ú¯Ø°Ø§Ø´ØªÙ†.",
                    "ÙØ¹Ø§Ù„ÛŒØª Ø§ØµÙˆÙ„ÛŒ.",
                    "Ù…Ø­ØªÙˆØ§ Ù…Ù†Ø§Ø³Ø¨.",
                    "Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù…."
                ]
            },
            {
                id: 31,
                text: "Ø¯Ø± ÛŒÚ© Ø³Ù†Ø§Ø±ÛŒÙˆÛŒ Ù…Ù†Ø§Ø³Ø¨ØŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø±Ø§ÛŒ Ø¬Ù„Ø¨ ØªÙˆØ¬Ù‡ Ù…Ø®Ø§Ø·Ø¨ Ú©Ø¯Ø§Ù… Ø§Ø³ØªØŸ",
                type: "multiple",
                options: [
                    "Ø«Ø§Ù†ÛŒÙ‡ Ù‡Ø§ÛŒ Ù¾Ø§ÛŒØ§Ù†ÛŒ.",
                    "Ø«Ø§Ù†ÛŒÙ‡ Ù‡Ø§ÛŒ Ù…ÛŒØ§Ù†ÛŒ.",
                    "Ú©Ù¾Ø´Ù† ÙˆÛŒØ¯ÛŒÙˆ.",
                    "Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù…."
                ]
            },
            {
                id: 32,
                text: "Ø¯Ø± Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØ´ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ Ø¨ÛŒÙ†Ù†Ø¯Ù‡ Ú†ÛŒØ³ØªØŸ",
                type: "multiple",
                options: [
                    "ÙÙ‚Ø· ØªÙˆØ¶ÛŒØ­ Ø¢Ù…ÙˆØ²Ø´Ø§Øª.",
                    "Ù†Ù…Ø§ÛŒØ´ ÛŒÚ© Ù…Ø«Ø§Ù„.",
                    "Ú¯ÙØªÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø´Øª Ø³Ø± Ù‡Ù….",
                    "Ù†ÙˆØ´ØªÙ† Ù…ØªÙ† Ø±ÙˆÛŒ ÙˆÛŒØ¯ÛŒÙˆ."
                ]
            },
            {
                id: 33,
                text: "Ø§Ú¯Ø± Ù‡Ø¯Ù Ø³Ù†Ø§Ø±ÛŒÙˆ ÙØ±ÙˆØ´ Ù…Ø­ØµÙˆÙ„ Ø¨Ø§Ø´Ø¯ Ú†Ù‡ Ù†Ú©ØªÙ‡ Ù‡Ø§ÛŒÛŒ Ø¨Ø§ÛŒØ¯ Ø§Ø¬Ø±Ø§ Ø´ÙˆØ¯ØŸ",
                type: "text"
            },
            {
                id: 34,
                text: "Û³ Ù†Ù…ÙˆÙ†Ù‡ Ù‚Ù„Ø§Ø¨ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ¬ ÙØ±ÙˆØ´ Ù„Ø¨Ø§Ø³ Ø¨Ø¯Ù‡ÛŒØ¯ (Ù„Ø¨Ø§Ø³ Ø¯Ø®ØªØ±Ø§Ù†Ù‡).",
                type: "text"
            },
            {
                id: 35,
                text: "ÛŒÚ© Ø³Ù†Ø§Ø±ÛŒÙˆÛŒ Ø±ÛŒÙ„Ø² Ú©ÙˆØªØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ¬ ÙØ±ÙˆØ´ Ú©ÛŒÙ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯.",
                type: "text"
            },
            {
                id: 36,
                text: "Ú©Ù¾Ø´Ù† Ù…ÙˆØ«Ø± Ø¨Ø§ÛŒØ¯ Ú†Ù‡ ÙˆÛŒÚ˜Ú¯ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ØŸ",
                type: "text"
            },
            {
                id: 37,
                text: "Ú©Ø¯Ø§Ù… Ù…ÙˆØ±Ø¯ Ø¯Ø± Ø±Ø§Ø¨Ø·Ù‡ Ø¨Ø§ ÙˆØ§ÛŒØ±Ø§Ù„ Ø´Ø¯Ù† Ø±ÛŒÙ„Ø² Ù…ÙˆØ«Ø± Ù†ÛŒØ³ØªØŸ",
                type: "multiple",
                options: [
                    "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©Ù¾Ø´Ù†.",
                    "Ø§Ù†ØªØ´Ø§Ø± Ø¯Ø± Ø³Ø§Ø¹Øª Ù…Ù†Ø§Ø³Ø¨.",
                    "Ú©ÛŒÙÛŒØª Ù…Ø­ØªÙˆØ§.",
                    "Ú©Ø§ÙˆØ±."
                ]
            },
            {
                id: 38,
                text: "Ø¢ÛŒØ§ Ø¨Ø§ÛŒØ¯ ØªÙ…Ø§Ù… Ù¾Ø³Øª Ù‡Ø§ÛŒ Ù¾ÛŒØ¬ ÛŒÚ© Ù†ÙˆØ§Ø®Øª Ùˆ Ø¯Ø± ÛŒÚ© Ù‚Ø§Ù„Ø¨ Ùˆ Ù‡Ø¯Ù Ø¨Ø§Ø´Ù†Ø¯ØŸ ÛŒØ§ Ø¯Ø± Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ù…Ø®ØªÙ„ÙØŸ (Ø¬ÙˆØ§Ø¨ Ø®ÙˆØ¯ Ø±Ø§ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯)",
                type: "text"
            },
            {
                id: 39,
                text: "Ù…Ø±Ø­Ù„Ù‡ Ø¨Ù‡ Ù…Ø±Ø­Ù„Ù‡ Ø¢Ù†Ø§Ù„ÛŒØ² ÛŒÚ© Ù¾ÛŒØ¬ Ø±Ø§ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯.",
                type: "text"
            },
            {
                id: 40,
                text: "Ø¢ÛŒØ§ Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ù…Ù†ÙÛŒ Ø¯Ø± ÛŒÚ© Ù¾ÛŒØ¬ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ÛŒ Ù…Ù‡Ù… Ø§Ø³ØªØŸ",
                type: "multiple",
                options: [
                    "Ø¨Ù„Ù‡.",
                    "Ø®ÛŒØ±."
                ]
            },
            {
                id: 41,
                text: "Û´ Ù…ÙˆØ±Ø¯ Ø§Ø² Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ Ø§Ø³ØªÙˆØ±ÛŒ Ú¯Ø°Ø§Ø´ØªÙ† Ø±Ø§ Ø¨ÛŒØ§Ù† Ú©Ù†ÛŒØ¯.",
                type: "text"
            },
            {
                id: 42,
                text: "Ú©Ø¯Ø§Ù… Ø§Ø¨Ø²Ø§Ø± Ø§Ø² Ø§Ø³ØªÙˆØ±ÛŒ Ø¨Ø§Ø¹Ø« Ù…Ø§Ø±Ú©ØªÛŒÙ†Ú¯ Ø¯Ø± Ù¾ÛŒØ¬ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",
                type: "multiple",
                options: [
                    "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ø³ØªÛŒÚ©Ø±Ù‡Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ.",
                    "Û· ØªØ§ Ø§Ø³ØªÙˆØ±ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡ Ù…ØªÙ†ÙˆØ¹.",
                    "Ø¨Ø§ Ú†Ù‡Ø±Ù‡ ÙØ¹Ø§Ù„ÛŒØª Ú©Ø±Ø¯Ù†.",
                    "Ø§Ø³ØªÙˆØ±ÛŒ Ú¯Ø°Ø§Ø´ØªÙ† Ø¨Ù‡ ØµÙˆØ±Øª Ù…ØªØ¯Ø§ÙˆÙ…."
                ]
            },
            {
                id: 43,
                text: "Ú†Ù†Ø¯ Ø§Ù‚Ø¯Ø§Ù… Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ù„Ø§ Ø¨Ø±Ø¯Ù† ÙˆÛŒÙˆ Ø§Ø³ØªÙˆØ±ÛŒ Ø¨Ú¯ÙˆÛŒÛŒØ¯.",
                type: "text"
            },
            {
                id: 44,
                text: "Û³ Ø§ÛŒØ¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙˆØ±ÛŒ Ù¾ÛŒØ¬ ÙØ±ÙˆØ´ Ù„Ø¨Ø§Ø³ØŸ *ÙÙ‚Ø· Ù‡Ø¯Ù Ø§Ø³ØªÙˆØ±ÛŒ Ú¯ÙØªÙ‡ Ø´ÙˆØ¯.",
                type: "text"
            },
            {
                id: 45,
                text: "Ø¢ÛŒØ§ ØªØ¹Ø§Ù…Ù„ Ø³Ø§Ø¹Øª Ù…Ø´Ø®ØµÛŒ Ø¯Ø§Ø±Ø¯ØŸ",
                type: "multiple",
                options: [
                    "Ø¨Ù„Ù‡.",
                    "Ø®ÛŒØ±."
                ]
            },
            {
                id: 46,
                text: "Ø¢ÛŒØ§ ØªØ¹Ø§Ù…Ù„ Ú©Ø±Ø¯Ù† Ø±ÙˆÛŒ Ø±Ø´Ø¯ Ù¾ÛŒØ¬ ØªØ§Ø«ÛŒØ± Ø¯Ø§Ø±Ø¯ØŸ (ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯)",
                type: "text"
            },
            {
                id: 47,
                text: "Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØ´ ØªØ¨Ù„ÛŒØº Ø±Ø§ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯.",
                type: "text"
            },
            {
                id: 48,
                text: "Û´ Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ ØªØ¨Ù„ÛŒØºØ§Øª Ø±Ø§ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯.",
                type: "text"
            },
            {
                id: 49,
                text: "ØªØµÙˆØ± Ú©Ù†ÛŒØ¯ Ù‚Ø±Ø§Ø± Ø§Ø³Øª Ø¨Ù‡ Ø¯Ùˆ ØªØ§ Ø¨Ù„Ø§Ú¯Ø± ØªØ¨Ù„ÛŒØº Ø¨Ø¯Ù‡ÛŒØ¯. Ù‡Ø± Ø¯Ùˆ ÛµÛ°Û° Ú©Ø§ ÙØ§Ù„ÙˆØ± Ø¯Ø§Ø±Ù†Ø¯. Ø´Ù…Ø§ Ù…ÙˆÙ‚Ø¹ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ù„Ø§Ú¯Ø± Ø¨Ù‡ Ú†Ù‡ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ ØªÙˆØ¬Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ Ù‡Ø± Ø¯Ùˆ Ø¨Ù„Ø§Ú¯Ø± Ø±Ø§ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡ÛŒØ¯.",
                type: "text"
            },
            {
                id: 50,
                text: "Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ù‡ ÛŒÚ© Ù†ÙØ± ØªØ¨Ù„ÛŒØº Ø¨Ø¯Ù‡ÛŒØ¯ Ø¨Ù‡ Ú†Ù‡ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ ØªÙˆØ¬Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ",
                type: "text"
            },
            {
                id: 51,
                text: "Ø¯Ø± ØªØ¨Ù„ÛŒØºØ§Øª Ø¨Ù„Ø§Ú¯Ø±Ù‡Ø§ Ú©Ø¯Ø§Ù… Ù…ÙˆØ«Ø±ØªØ± Ø§Ø³ØªØŸ",
                type: "multiple",
                options: [
                    "Ú¯ÙˆÛŒØ´ÛŒ.",
                    "Ø¨Ù†Ø±ÛŒ.",
                    "Ø­Ø¶ÙˆØ±ÛŒ."
                ]
            },
            {
                id: 52,
                text: "Ú†Ù‡ Ø§Ù„Ù…Ø§Ù† Ù‡Ø§ÛŒÛŒ Ø¯Ø± ØªØ¨Ù„ÛŒØº Ø¨Ø§Ø¹Ø« Ø§ÙØ²Ø§ÛŒØ´ Ø§Ø¹ØªÙ…Ø§Ø¯ Ù…Ø®Ø§Ø·Ø¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",
                type: "text"
            },
            {
                id: 53,
                text: "Ø¢ÛŒØ§ Ø¨Ø§ ÛŒÚ© Ù¾ÛŒØ¬ ØµÙØ± ÛŒØ§ Ø­Ø¯Ø§Ù‚Ù„ Û³Û°Û° - Û´Û°Û° ØªØ§ÛŒÛŒ Ø±ÙˆØ´ Ø¯Ø±Ø³ØªÛŒ Ø§Ø³Øª ØªØ¨Ù„ÛŒØº Ø¯Ø§Ø¯Ù†ØŸ",
                type: "multiple",
                options: [
                    "Ø¨Ù„Ù‡.",
                    "Ø®ÛŒØ±."
                ]
            },
            {
                id: 54,
                text: "Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø¨ÙØ±ÙˆØ´ÛŒÙ… (Ø­ØªÛŒ Ø¨Ù‡ Û³ - Û´ ØªØ§ Ù…Ø´ØªØ±ÛŒ! Ùˆ Ø­ØªÛŒ Û± - Û² ØªØ§ Ù…Ø´ØªØ±ÛŒ) Ø¨Ø§ÛŒØ¯ Ú†Ù‡ Ú©Ø§Ø±Ù‡Ø§ÛŒÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ…ØŸ",
                type: "text"
            }
        ];

        let allUsers = [];
        let selectedUser = null;
        let userAnswers = [];
        let correctedAnswers = Array(54).fill(null); // null: ØªØµØ­ÛŒØ­ Ù†Ø´Ø¯Ù‡, true: ØµØ­ÛŒØ­, false: ØºÙ„Ø·

        // DOM elements
        const usersContainer = document.getElementById('users-container');
        const loadingUsers = document.getElementById('loading-users');
        const noUserSelected = document.getElementById('no-user-selected');
        const userExamDetails = document.getElementById('user-exam-details');
        const questionsContainer = document.getElementById('questions-container');
        const searchInput = document.getElementById('search-input');
        const saveGradesBtn = document.getElementById('save-grades');

        // Format time function
        function formatTime(dateString) {
            if (!dateString) return '-';
            const date = new Date(dateString);
            const time = date.toLocaleTimeString('fa-IR', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            const dateFormatted = date.toLocaleDateString('fa-IR');
            return `${time} - ${dateFormatted}`;
        }

        // Calculate duration function
        function calculateDuration(startTime, endTime) {
            if (!startTime || !endTime) return '-';
            
            const start = new Date(startTime);
            const end = new Date(endTime);
            const durationMs = end - start;
            
            const hours = Math.floor(durationMs / (1000 * 60 * 60));
            const minutes = Math.floor((durationMs % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((durationMs % (1000 * 60)) / 1000);
            
            if (hours > 0) {
                return `${hours} Ø³Ø§Ø¹Øª Ùˆ ${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ùˆ ${seconds} Ø«Ø§Ù†ÛŒÙ‡`;
            } else if (minutes > 0) {
                return `${minutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ùˆ ${seconds} Ø«Ø§Ù†ÛŒÙ‡`;
            } else {
                return `${seconds} Ø«Ø§Ù†ÛŒÙ‡`;
            }
        }

        // Load all users
        async function loadUsers() {
            try {
                loadingUsers.classList.remove('hidden');
                usersContainer.innerHTML = '';

                const { data: users, error } = await supabase
                    .from('users')
                    .select('*')
                    .order('created_at', { ascending: false });

                if (error) throw error;

                allUsers = users || [];
                displayUsers(allUsers);
                
            } catch (error) {
                console.error('Error loading users:', error);
                alert('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†');
            } finally {
                loadingUsers.classList.add('hidden');
            }
        }

        // Display users in the list
        function displayUsers(users) {
            usersContainer.innerHTML = '';

            if (users.length === 0) {
                usersContainer.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯
                    </div>
                `;
                return;
            }

            users.forEach(user => {
                const userCard = document.createElement('div');
                userCard.className = 'user-card';
                userCard.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <h4 class="font-bold text-lg">${user.full_name}</h4>
                            <div class="text-sm text-gray-600 mt-1">
                                <div>ğŸ“± ${user.phone}</div>
                                <div>ğŸ“§ @${user.telegram}</div>
                                <div class="text-xs mt-2">${new Date(user.created_at).toLocaleDateString('fa-IR')}</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block w-3 h-3 rounded-full bg-gray-400" id="status-${user.id}"></span>
                        </div>
                    </div>
                `;

                userCard.addEventListener('click', () => selectUser(user));
                usersContainer.appendChild(userCard);

                // Check if user has exam results
                checkUserExamStatus(user.id);
            });
        }

        // Check user exam status
        async function checkUserExamStatus(userId) {
            try {
                const { data: examResults } = await supabase
                    .from('exam_results')
                    .select('*')
                    .eq('user_id', userId)
                    .single();

                const { data: examGrades } = await supabase
                    .from('exam_grades')
                    .select('*')
                    .eq('user_id', userId)
                    .single();

                const statusElement = document.getElementById(`status-${userId}`);
                if (examGrades) {
                    statusElement.className = 'inline-block w-3 h-3 rounded-full bg-green-500';
                    statusElement.title = 'ØªØµØ­ÛŒØ­ Ø´Ø¯Ù‡';
                } else if (examResults) {
                    statusElement.className = 'inline-block w-3 h-3 rounded-full bg-blue-500';
                    statusElement.title = 'Ø¢Ø²Ù…ÙˆÙ† Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡';
                } else {
                    statusElement.className = 'inline-block w-3 h-3 rounded-full bg-yellow-500';
                    statusElement.title = 'Ø¯Ø± Ø­Ø§Ù„ Ø¢Ø²Ù…ÙˆÙ†';
                }
            } catch (error) {
                console.error('Error checking user status:', error);
            }
        }

        // Select user and load their exam data
        async function selectUser(user) {
            selectedUser = user;
            
            // Update UI
            document.querySelectorAll('.user-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');

            noUserSelected.classList.add('hidden');
            userExamDetails.classList.remove('hidden');

            // Update user info
            document.getElementById('user-fullname').textContent = user.full_name;
            document.getElementById('user-phone').textContent = user.phone;
            document.getElementById('user-telegram').textContent = user.telegram;
            document.getElementById('user-registered').textContent = formatTime(user.created_at);

            // Load user's exam data
            await loadUserExamData(user.id);
        }

        // Load user's exam answers and grades
        async function loadUserExamData(userId) {
            try {
                questionsContainer.innerHTML = '<div class="text-center py-4"><div class="spinner mx-auto"></div><p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§...</p></div>';

                // Load exam results
                const { data: examResults, error: resultsError } = await supabase
                    .from('exam_results')
                    .select('*')
                    .eq('user_id', userId)
                    .single();

                if (resultsError && resultsError.code !== 'PGRST116') {
                    throw resultsError;
                }

                userAnswers = examResults?.answers || Array(54).fill(null);

                // Update exam time information
                document.getElementById('exam-started').textContent = formatTime(examResults?.exam_started_at);
                document.getElementById('exam-completed').textContent = formatTime(examResults?.exam_completed_at);
                document.getElementById('exam-duration').textContent = calculateDuration(
                    examResults?.exam_started_at, 
                    examResults?.exam_completed_at
                );

                // Load existing grades
                const { data: examGrades, error: gradesError } = await supabase
                    .from('exam_grades')
                    .select('*')
                    .eq('user_id', userId)
                    .single();

                if (gradesError && gradesError.code !== 'PGRST116') {
                    throw gradesError;
                }

                correctedAnswers = examGrades?.corrected_answers || Array(54).fill(null);

                // Update exam status
                const answeredCount = userAnswers.filter(answer => answer !== null).length;
                const currentScore = correctedAnswers.filter(answer => answer === true).length;

                document.getElementById('answered-count').textContent = answeredCount;
                document.getElementById('unanswered-count').textContent = 54 - answeredCount;
                document.getElementById('current-score').textContent = currentScore;

                const gradingStatus = document.getElementById('grading-status');
                if (examGrades) {
                    gradingStatus.textContent = 'ØªØµØ­ÛŒØ­ Ø´Ø¯Ù‡';
                    gradingStatus.className = 'bg-green-100 text-green-800 px-2 py-1 rounded text-xs';
                } else {
                    gradingStatus.textContent = 'ØªØµØ­ÛŒØ­ Ù†Ø´Ø¯Ù‡';
                    gradingStatus.className = 'bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs';
                }

                // Display questions and answers
                displayQuestionsAndAnswers();

            } catch (error) {
                console.error('Error loading user exam data:', error);
                alert('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø²Ù…ÙˆÙ† Ú©Ø§Ø±Ø¨Ø±');
            }
        }

        // Display questions with user answers and grading buttons
        function displayQuestionsAndAnswers() {
            questionsContainer.innerHTML = '';

            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = correctedAnswers[index];
                
                const questionElement = document.createElement('div');
                questionElement.className = `question-item ${isCorrect === true ? 'correct-answer' : ''} ${isCorrect === false ? 'incorrect-answer' : ''}`;
                
                let answerContent = '';
                if (question.type === 'multiple') {
                    const selectedOption = userAnswer !== null ? question.options[userAnswer] : 'Ù¾Ø§Ø³Ø® Ù†Ø¯Ø§Ø¯Ù‡';
                    answerContent = `
                        <div class="mt-2">
                            <strong>Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong>
                            <span class="mr-2 ${userAnswer === null ? 'text-red-500' : ''}">
                                ${selectedOption}
                            </span>
                        </div>
                    `;
                } else {
                    const answerText = userAnswer || 'Ù¾Ø§Ø³Ø® Ù†Ø¯Ø§Ø¯Ù‡';
                    answerContent = `
                        <div class="mt-2">
                            <strong>Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong>
                            <div class="mt-1 p-2 bg-gray-50 rounded text-sm ${userAnswer === null ? 'text-red-500' : ''}">
                                ${answerText}
                            </div>
                        </div>
                    `;
                }

                questionElement.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <h4 class="font-bold">Ø³ÙˆØ§Ù„ ${index + 1}: ${question.text}</h4>
                            ${answerContent}
                        </div>
                        <div class="flex flex-col gap-2 mr-4">
                            <button class="correct-btn" onclick="markAnswer(${index}, true)" ${isCorrect === true ? 'disabled' : ''}>
                                âœ… ØµØ­ÛŒØ­
                            </button>
                            <button class="incorrect-btn" onclick="markAnswer(${index}, false)" ${isCorrect === false ? 'disabled' : ''}>
                                âŒ ØºÙ„Ø·
                            </button>
                        </div>
                    </div>
                    ${isCorrect !== null ? `
                        <div class="mt-2 text-sm ${isCorrect ? 'text-green-600' : 'text-red-600'}">
                            ${isCorrect ? 'âœ… Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­ Ø¹Ù„Ø§Ù…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡' : 'âŒ Ù¾Ø§Ø³Ø® ØºÙ„Ø· Ø¹Ù„Ø§Ù…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡'}
                        </div>
                    ` : ''}
                `;

                questionsContainer.appendChild(questionElement);
            });
        }

        // Mark answer as correct or incorrect
        function markAnswer(questionIndex, isCorrect) {
            correctedAnswers[questionIndex] = isCorrect;
            
            // Update UI
            const questionElement = questionsContainer.children[questionIndex];
            questionElement.className = `question-item ${isCorrect ? 'correct-answer' : 'incorrect-answer'}`;
            
            // Update buttons
            const buttons = questionElement.querySelectorAll('button');
            buttons[0].disabled = isCorrect;
            buttons[1].disabled = !isCorrect;
            
            // Add status message
            let statusDiv = questionElement.querySelector('.mt-2');
            if (!statusDiv || !statusDiv.className.includes('text-')) {
                statusDiv = document.createElement('div');
                statusDiv.className = `mt-2 text-sm ${isCorrect ? 'text-green-600' : 'text-red-600'}`;
                questionElement.appendChild(statusDiv);
            }
            statusDiv.textContent = isCorrect ? 'âœ… Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­ Ø¹Ù„Ø§Ù…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡' : 'âŒ Ù¾Ø§Ø³Ø® ØºÙ„Ø· Ø¹Ù„Ø§Ù…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡';
            
            // Update current score
            const currentScore = correctedAnswers.filter(answer => answer === true).length;
            document.getElementById('current-score').textContent = currentScore;
        }

        // Save grades to database
        async function saveGrades() {
            if (!selectedUser) return;

            try {
                saveGradesBtn.disabled = true;
                saveGradesBtn.innerHTML = '<div class="spinner"></div>Ø¯Ø± Ø­Ø§Ù„ Ø°Ø®ÛŒØ±Ù‡...';

                const correctedCount = correctedAnswers.filter(answer => answer !== null).length;
                if (correctedCount === 0) {
                    alert('Ù„Ø·ÙØ§Ù‹ Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø³ÙˆØ§Ù„ Ø±Ø§ ØªØµØ­ÛŒØ­ Ú©Ù†ÛŒØ¯');
                    return;
                }

                const finalScore = correctedAnswers.filter(answer => answer === true).length;

                const { error } = await supabase
                    .from('exam_grades')
                    .upsert({
                        user_id: selectedUser.id,
                        answers: userAnswers,
                        corrected_answers: correctedAnswers,
                        score: finalScore,
                        max_score: 54,
                        corrected_by: 'Admin',
                        corrected_at: new Date().toISOString()
                    }, {
                        onConflict: 'user_id'
                    });

                if (error) throw error;

                alert(`Ù†Ù…Ø±Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯\nÙ†Ù…Ø±Ù‡ Ù†Ù‡Ø§ÛŒÛŒ: ${finalScore} Ø§Ø² 54`);
                
                // Update UI
                document.getElementById('grading-status').textContent = 'ØªØµØ­ÛŒØ­ Ø´Ø¯Ù‡';
                document.getElementById('grading-status').className = 'bg-green-100 text-green-800 px-2 py-1 rounded text-xs';
                
                // Update user status in list
                checkUserExamStatus(selectedUser.id);

            } catch (error) {
                console.error('Error saving grades:', error);
                alert('Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ù†Ù…Ø±Ø§Øª');
            } finally {
                saveGradesBtn.disabled = false;
                saveGradesBtn.textContent = 'Ø°Ø®ÛŒØ±Ù‡ Ù†Ù…Ø±Ø§Øª';
            }
        }

        // Search functionality
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filteredUsers = allUsers.filter(user => 
                user.full_name.toLowerCase().includes(searchTerm) ||
                user.phone.includes(searchTerm) ||
                user.telegram.toLowerCase().includes(searchTerm)
            );
            displayUsers(filteredUsers);
        });

        // Filter functionality
        document.getElementById('filter-all').addEventListener('click', () => {
            displayUsers(allUsers);
        });

        document.getElementById('filter-not-graded').addEventListener('click', async () => {
            const notGradedUsers = [];
            for (const user of allUsers) {
                const { data: examGrades } = await supabase
                    .from('exam_grades')
                    .select('*')
                    .eq('user_id', user.id)
                    .single();
                
                if (!examGrades) {
                    notGradedUsers.push(user);
                }
            }
            displayUsers(notGradedUsers);
        });

        document.getElementById('filter-graded').addEventListener('click', async () => {
            const gradedUsers = [];
            for (const user of allUsers) {
                const { data: examGrades } = await supabase
                    .from('exam_grades')
                    .select('*')
                    .eq('user_id', user.id)
                    .single();
                
                if (examGrades) {
                    gradedUsers.push(user);
                }
            }
            displayUsers(gradedUsers);
        });

        // Make functions global for onclick events
        window.markAnswer = markAnswer;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadUsers();
            saveGradesBtn.addEventListener('click', saveGrades);
        });
    </script>
</body>
</html>
